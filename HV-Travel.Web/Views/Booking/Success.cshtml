@model HVTravel.Web.Models.BookingResultViewModel
@{
    var booking = Model.Booking;
    var tour = Model.Tour;
}

<!-- Breadcrumb -->
<div class="bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
        <nav class="flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400">
            <a asp-controller="Home" asp-action="Index" class="hover:text-primary transition-colors">Trang Ch·ªß</a>
            <span class="material-symbols-outlined text-[14px]">chevron_right</span>
            @if (tour != null)
            {
                <a asp-controller="PublicTours" asp-action="Details" asp-route-id="@tour.Id" class="hover:text-primary transition-colors">@tour.Name</a>
                <span class="material-symbols-outlined text-[14px]">chevron_right</span>
                <span class="text-slate-500 dark:text-slate-400">ƒê·∫∑t Tour</span>
                <span class="material-symbols-outlined text-[14px]">chevron_right</span>
                <span class="text-slate-500 dark:text-slate-400">Thanh To√°n</span>
                <span class="material-symbols-outlined text-[14px]">chevron_right</span>
            }
            <span class="text-slate-900 dark:text-white font-medium">Ho√†n T·∫•t</span>
        </nav>
    </div>
</div>

<!-- Stepper (Completed) -->
<div class="bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800 py-6">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-center gap-0" data-animate="fade-in">
            <div class="flex items-center gap-2">
                <div class="size-9 rounded-full bg-primary text-white flex items-center justify-center text-sm font-bold"><span class="material-symbols-outlined text-[16px]">check</span></div>
                <span class="text-sm font-medium text-primary hidden sm:inline">Th√¥ng Tin</span>
            </div>
            <div class="w-12 sm:w-20 h-0.5 bg-primary mx-2"></div>
            <div class="flex items-center gap-2">
                <div class="size-9 rounded-full bg-primary text-white flex items-center justify-center text-sm font-bold"><span class="material-symbols-outlined text-[16px]">check</span></div>
                <span class="text-sm font-medium text-primary hidden sm:inline">Thanh To√°n</span>
            </div>
            <div class="w-12 sm:w-20 h-0.5 bg-primary mx-2"></div>
            <div class="flex items-center gap-2">
                <div class="size-9 rounded-full bg-primary text-white flex items-center justify-center text-sm font-bold shadow-lg shadow-primary/30"><span class="material-symbols-outlined text-[16px]">check</span></div>
                <span class="text-sm font-bold text-primary hidden sm:inline">Ho√†n T·∫•t</span>
            </div>
        </div>
    </div>
</div>

<section class="py-16 bg-background-light dark:bg-background-dark">
    <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <!-- Animated Checkmark -->
        <div class="mb-8" data-animate="scale-in">
            <div class="success-checkmark mx-auto size-24 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center animate-bounce-once">
                <span class="material-symbols-outlined text-5xl text-emerald-500">check_circle</span>
            </div>
        </div>

        <h1 class="text-3xl font-extrabold text-slate-900 dark:text-white mb-3">ƒê·∫∑t Tour Th√†nh C√¥ng! üéâ</h1>
        <p class="text-slate-500 dark:text-slate-400 mb-8 max-w-md mx-auto">C·∫£m ∆°n b·∫°n ƒë√£ ƒë·∫∑t tour t·∫°i HV Travel. Ch√∫ng t√¥i s·∫Ω li√™n h·ªá x√°c nh·∫≠n trong th·ªùi gian s·ªõm nh·∫•t.</p>

        <!-- Booking Summary -->
        <div class="bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-100 dark:border-slate-700 text-left mb-8" data-animate="fade-up" data-delay="200">
            <div class="flex items-center justify-between mb-5">
                <h3 class="text-base font-bold text-slate-900 dark:text-white">Th√¥ng Tin ƒê·∫∑t Tour</h3>
                <span class="inline-flex items-center gap-1 px-3 py-1 rounded-full text-[11px] font-bold bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400">
                    <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span> ƒê√£ x√°c nh·∫≠n
                </span>
            </div>
            <div class="grid sm:grid-cols-2 gap-4 text-sm">
                <div class="space-y-3">
                    <div><span class="text-slate-500 block text-xs mb-0.5">M√£ ƒë∆°n</span><span class="font-bold font-mono text-primary text-lg">@booking.BookingCode</span></div>
                    <div><span class="text-slate-500 block text-xs mb-0.5">Tour</span><span class="font-bold text-slate-900 dark:text-white">@(booking.TourSnapshot?.Name ?? tour?.Name)</span></div>
                    <div><span class="text-slate-500 block text-xs mb-0.5">Kh·ªüi h√†nh</span><span class="font-bold text-slate-900 dark:text-white">@(booking.TourSnapshot?.StartDate.ToString("dd/MM/yyyy") ?? "‚Äî")</span></div>
                </div>
                <div class="space-y-3">
                    <div><span class="text-slate-500 block text-xs mb-0.5">Kh√°ch h√†ng</span><span class="font-bold text-slate-900 dark:text-white">@booking.ContactInfo?.Name</span></div>
                    <div><span class="text-slate-500 block text-xs mb-0.5">Email</span><span class="font-bold text-slate-900 dark:text-white">@booking.ContactInfo?.Email</span></div>
                    <div><span class="text-slate-500 block text-xs mb-0.5">S·ªë h√†nh kh√°ch</span><span class="font-bold text-slate-900 dark:text-white">@booking.ParticipantsCount ng∆∞·ªùi</span></div>
                </div>
            </div>
            <div class="border-t border-slate-100 dark:border-slate-700 mt-5 pt-5 flex justify-between items-center">
                <span class="text-base font-bold text-slate-900 dark:text-white">T·ªïng thanh to√°n</span>
                <span class="text-2xl font-extrabold text-primary">@booking.TotalAmount.ToString("N0")‚Ç´</span>
            </div>
        </div>

        <!-- Actions -->
        <div class="flex flex-col sm:flex-row justify-center gap-3" data-animate="fade-up" data-delay="400">
            <button onclick="window.print()" class="flex items-center justify-center gap-2 px-6 py-3 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-bold border border-slate-200 dark:border-slate-700 hover:bg-slate-50 transition-all">
                <span class="material-symbols-outlined text-[18px]">print</span> In V√©
            </button>
            <a asp-controller="Home" asp-action="Index" class="flex items-center justify-center gap-2 px-6 py-3 bg-primary hover:bg-primary-dark text-white rounded-xl text-sm font-bold shadow-lg shadow-primary/25 transition-all">
                <span class="material-symbols-outlined text-[18px]">home</span> V·ªÅ Trang Ch·ªß
            </a>
        </div>
    </div>
</section>

<style>
    .animate-bounce-once { animation: bounceIn 0.6s ease-out; }
    @@keyframes bounceIn { 0% { transform: scale(0); opacity: 0; } 50% { transform: scale(1.15); } 100% { transform: scale(1); opacity: 1; } }
</style>
